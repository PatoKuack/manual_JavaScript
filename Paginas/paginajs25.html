<!DOCTYPE html>
<html lang="es">
<head>
  <!-- No guardar cache en navegadores -->
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="expires" content="0">
  <!-- ------------------- -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- normalize css -->
  <link rel="stylesheet" href="../Estilos/Normalizecss.css">
  <!-- Estilo personalizado -->
  <link rel="stylesheet" href="../Estilos/stylejs11.css">
  <title>Objetos del navegador</title>
</head>
<body class="cuerpo">
  <header>
    <section>
      <div class="contenedor" >
        <h1 class="titCentrado">Navegador</h1>
        <p class="contenido">
          El objeto <b>window</b> es el objeto de más alto nivel de JavaScript en el navegador (todos los objetos descienden de window), pero solo en el navegador, no en el servidor (usando node.js) ya que no existe el objeto window en el servidor.<br/>
          La variable <b>this</b> al igual que <i>window</i> hace referencia al <b>objeto global</b>.
        </p>
      </div>
    </section>
  </header>
  <main>
    <!-- window -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Window</h2>
        <p class="contenido">
          <h3>Objetos.</h3>
          <p>A continuación, se presentan los principales objetos que nos ayudan a utilizar el objeto window.</p>
          <dl>
            <dt>console</dt>
            <dd>Es el objeto que entrega información en consola y tiene varios métodos como .log(), .debug(), .clear(), etc.</dd>
            <dt>navigator</dt>
            <dd>Es el objeto que da información sobre el navegador.</dd>
            <dt>location</dt>
            <dd>Es el objeto que da información sobre la URL de la página en la que se está posicionado.</dd>
            <dt>history</dt>
            <dd>Es el objeto que da información sobre el historial del navegador.</dd>
          </dl>
          <h3>Métodos.</h3>
          <dl>
            <dt>open()</dt>
            <dd>Permite abrir una nueva instancia (ventana) del navegador, pero deben estar permitidos los pop-ups en la configuración del navegador.</dd>
            <span class="consola">
              window.open('<u>URL</u>', '<u>Nombre de ventana</u>', 'width=<u>200</u>, height=<u>400</u>');
            </span>
            <dd>También se puede utilizar para abrir nuevas pestañas con la URL especificada:</dd>
            <span class="ejemplo">
              window.open('<u>URL</u>', '<u>_blank</u>');<br/>
              <i class="coment">// Se puede utilizar en los atributos onclick de los botones.</i>
            </span>
            <dt>close()</dt>
            <dd>Permite cerrar una instancia (ventana) que se haya abierto únicamente con open()</dd>
            <dt>alert(message)</dt>
            <dd>Muestra un mensaje en un cuadro emergente con un botón de "Aceptar" para cerrarlo.</dd>
            <span class="ejemplo">
              alert(`¡Rápido, Di una mentira!`);
            </span>
            <dt>confirm(message)</dt>
            <dd>Muestra un mensaje en un cuadro emergente con dos botones y devuelve un booleano dependiendo si el usuario selecciona <i>"Aceptar" = True</i> o <i>"Cancelar" = False</i>.</dd>
            <span class="ejemplo">
              let pinochio = confirm(`Traigo ropa interior de mujer...`);
            </span>
            <dt>prompt(message)</dt>
            <dd>Muestra un mensaje en un cuadro emergente con una sección para escribir un texto el cual se puede guardar en una variable.</dd>
            <span class="ejemplo">
              let gato = prompt(`¿De qué clase?`);
            </span>
          </dl>
        </p>
      </div>
    </section>
    <!-- Objeto location -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Objeto location.</h2>
        <p class="contenido">
          Como ya se mencionó, el objeto location te devolverá información sobre la URL.
        </p>
        <h3>Popiedades.</h3>
        <dl>
          <dt>href</dt>
          <dd>Es una propiedad de lectura y escritura, devuelve la URL de la página en donde se encuentra el navegador (lectura) o puede redireccionar a una URL especificada (escritura).</dd>
          <span class="consola">
            location.href;<br/>
            <i class="coment">// Devuelve la URL de la página en donde se encuentra el navegador.</i>
            <hr/>
            location.href = '<u>URL</u>';<br/>
            <i class="coment">// Redirecciona la URL a la especificada en las comillas.</i>
          </span>
          <dt>host</dt>
          <dd>Devuelve el nombre del dominio y el puerto, también ayuda a saber si una URL es externa o interna.</dd>
          <span class="consola">
            location.host
            <i class="coment">// Devuelve el dominio y el puerto de la página en donde se encuentra el navegador.</i>
            <hr/>
            const links = document.links;<br/>
            for( let link of links ){<br/>
            &emsp;if( link.href.includes( location.host ) ) {<br/>
            &emsp;&emsp;link.style.background = "pink";<br/>
            } }<br/>
            <i class="coment">// Todos los links internos de la página en donde se encuentre el navegador obtendrán un fondo rosa.</i>
          </span>
          <dt>hostname</dt>
          <dd>Devuelve únicamente el nombre del dominio.</dd>
          <dt>port</dt>
          <dd>Devuelve el puerto.</dd>
          <dt>protocol</dt>
          <dd>Devuelve el protocolo si es http o https.</dd>
          <dt>origin</dt>
          <dd>Devuelve el protocolo más el dominio.</dd>
          <dt>hash</dt>
          <dd>Detecta si la página tiene hash (#). Los hash se utilizan para hacer enlaces internos en las páginas</dd>
          <span class="consola">
            location.hash
          </span>
          <dt>pathname</dt>
          <dd>Devuelve la ruta interna luego del dominio.</dd>
          <span class="consola">
            location.pathname<br/>
            <i class="coment">/*<br/>
            si el navegador está posicionado en:<br/>
            https://ed.team/cursos/js-dom<br/>
            nos devolverá:<br/>
            /cursos/js-dom<br/>
            */</i>
            <hr/>
            if(location.pathname.includes('about-me')){<br/>
            &emsp;document.nav.classList.add('highlightAM')<br/>
            }<br/>
            <i class="coment">// Si el pathname incluye "about-me" se le agregará la clase "highlightAM" al navegador.</i>
          </span>
        </dl>
        <h3>Métodos.</h3>
        <dl>
          <dt>reload()</dt>
          <dd>Recarga la página.</dd>
          <span class="consola">location.reload()</span>
          <dt>assign(URL)</dt>
          <dd>Redirecciona la página a la URL especificada.</dd>
          <span class="consola">location.assign(<u>URL</u>)</span>
          <dt>replace(URL)</dt>
          <dd>También redirecciona la página a la URL especificada.</dd>
          <span class="consola">location.replace(<u>URL</u>)</span>
        </dl>
      </div>
    </section>
      <!-- Objeto history -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Objeto history.</h2>
        <p class="contenido">
          Como ya se mencionó, el objeto history contiene el historial de navegación de la pestaña, no de todo el navegador. Y no es para devolver un historial con todas las URL, sino para detectar las flechas de retroceso o adelanto.
        </p>
        <h3>Propiedades.</h3>
        <dl>
          <dt>length</dt>
          <dd>Muestra la cantidad de elementos que hay en el historial incluyendo la página actual, es decir la cantidad de páginas a las que se puede acceder usando las flechas de "volver a la página anterior" o "avanzar a la página siguiente".</dd>
        </dl>
        <h3>Métodos.</h3>
        <dl>
          <dt>back()</dt>
          <dd>Regresa a la página anterior del historial de la pestaña.</dd>
          <span class="consola">
            history.back()
          </span>
          <dt>forward()</dt>
          <dd>Avanza a la página siguiente del historial de la pestaña.</dd>
          <span class="consola">
            history.forward()
          </span>
          <dt>go(<u>position</u>)</dt>
          <dd>Regresa o avanza a la posición que se indique, siendo -1 = back y 1 = forward</dd>
          <span class="consola">
            history.go(-3);
          </span>
        </dl>
      </div>
    </section>
    <!-- Objeto navigator -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Objeto navigator.</h2>
        <p class="contenido">
          Nos ayuda a detectar si el navegador que se está usando cuenta con las características (features) necesarias para usar nuestros códigos como <i>geolocation</i>, <i>deviceMemory</i>, <i>cookieEnabled</i>.
        </p>
        <p>
          También se puede utilizar CSS, JavaScript o modernizr para detectar las características habilitadas en el navegador que se está utilizando. <a class="enlace" href="https://modernizr.com/" target="blank">Modernizr</a> es una librería que permite detectar si un navegador tiene características que se utilizan en las páginas.
        </p>
        <span class="ejemplo">
          if(modernizr.grid) { ... } else { ... }<br/>
          <i class="coment">// Si está habilitada la característica grid en el navegador ... sino ...</i>
        </span>
        <p class="contenido">
          El operador <i>in</i> se puede usar para preguntar si una propiedad existe en un objeto, en este caso podría preguntase mediante JavaScript si la propiedad 'Promise' existe en el objeto window.
        </p>
        <span class="ejemplo">
          'Promise' in window
          <i class="coment">// devuelve un True si existe la propiedad en window o False si no existe.</i>
        </span>
      </div>
    </section>
    <!-- Timers -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Timers.</h2>
        <p class="contenido">
          Permiten ejecutar acciones después de un periodo de tiempo o acciones que se repitan periódicamente.
        </p>
        <dl>
          <dt>setTimeOut(<u>callback</u>, <u>ms</u>)</dt>
          <dd>Ejecuta lo que está en el primer parámetro el cual tiene que ser un callback (función) después de cierta cantidad de milisegundos especificadas en el segundo parámetro.</dd>
          <span class="ejemplo">
            setTimeOut(() => {<br/>
            &emsp;alert('¡Holaaaa enfermere!');<br/>
            }, 3000);<br/>
          </span>
          <dt>setInterval(<u>callback</u>, <u>ms</u>)</dt>
          <dd>Ejecuta una función varias veces con un intervalo indicado en milisegundos.</dd>
          <span class="ejemplo">
            <i class="coment titCentrado block-centrado">// En HTML</i>
            &#60;div class="reloj"&#62;&emsp;&#60;/div&#62;
            <hr class="enlace"/>
            <i class="coment titCentrado block-centrado">// En JavaScript</i>
            console.log(new Date().toLocaleTimeString())<br/>
            <i class="coment">// Nos imprime la hora, minuto y segundo actuales.</i><br/>
            setInterval(() => {<br/>
            &emsp;const reloj = document.getElementById('reloj');
            if(reloj) reloj.textContent = new Date().toLocaleTimeString()<br/>
            <i class="coment">// Actualiza el reloj.</i><br/>
            }, 1000);<br/>
          </span>
          <dt>clearInterval(<u>función</u>)</dt>
          <dd>Detiene el setInterval.</dd>
          <span class="ejemplo">
            let contador = 0;<br/>
            const elefantes = setInterval(() => {<br/>
            &emsp;contador++<br/>
            &emsp;if(contador > 1){<br/>
            &emsp;&emsp;console.log(`${contador} elefantes se columpiaban...`);<br/>
            &emsp;} else {<br/>
            &emsp;&emsp;console.log(`${contador} elefante se columpiaba...`);<br/>
            &emsp;}<br/>
            &emsp;if(contador === 5){<br/>
            &emsp;&emsp;clearInterval(elefantes);<br/>
            &emsp;}<br/>
            }, 1000);<br/>
          </span>
        </dl>
      </div>
    </section>
    <!-- Date -->
    <section>
      <div class="contenedor" id="parent">
        <h2 class="titCentrado">Date.</h2>
        <p class="contenido">
          Date es un objeto que trae las fechas del sistema operativo, no del navegador.
        </p>
        <p class="contenido">
          Para trabajar con este objeto se debe instanciarlo. Si se quiere conseguir una fecha lo que se debe hacer es: crear una constate y asignarle la palabra reservada new y el objeto Date.
        </p>
        <h3>Instanciar</h3>
        <dl>
          <dt>new Date()</dt>
          <dd>Proporciona la fecha actual desde años hasta segundos y la zona horaria (GMT).</dd>
          <dt>new Date(year,month,day)</dt>
          <dd>Proporciona la fecha con la zona horaria y el día de la semana, indicando en el parámetro el año, mes y día en forma numérica. El mes va de 0 a 11 donde 0 será enero y 11 será diciembre.</dd>
          <span class="ejemplo">
            const aniversario = new Date(2022,8,19);<br/>
            console.log(aniversario);
          </span>
          <dt>new Date(year,month,day,hours,minutes,seconds)</dt>
          <dd>Proporciona la fecha con la zona horaria y el día de la semana, indicando en el parámetro el año, mes, día, hora, minuto y segundo en forma numérica. El mes va de 0 a 11 donde 0 será enero y 11 será diciembre.</dd>
          <span class="ejemplo">
            const aniversario = new Date(2022,8,19,17,25,36);<br/>
            console.log(aniversario);
          </span>
          <dt>new Date(strings)</dt>
          <dd>Proporciona la fecha por medio de un string, el string se coloca en los parámetros y tiene que tener el formato original del objeto, es decir, el día de la semana y el mes con las primeras tres letras de su nombre en inglés, y los demás datos en forma numérica. Pueden omitirse datos siempre que se respete el formato.</dd>
          <span class="ejemplo">
            const aniversario = new Date(May 21 2021 18:07:31 GMT-0500);<br/>
            console.log(aniversario);
          </span>
        </dl>
        <h3>Métodos</h3>
        <dl>
          <dt>getFullYear()</dt>
          <dd>Devuelve el año.</dd>
          <dt>getMinutes()</dt>
          <dd>Devuelve los minutos.</dd>
          <dt>getSeconds()</dt>
          <dd>Devuelve los segundos.</dd>
          <dt>getDate()</dt>
          <dd>Devuelve el día del mes.</dd>
          <dt>getDay()</dt>
          <dd>Devuelve el día de la semana de 0 a 6) (lunes = 0, domingo = 6).</dd>
          <dt> getMonth()</dt>
          <dd>Devuelve los meses de 0 a 11 (enero = 0, diciembre = 11.</dd>
          <dt>getTime()</dt>
          <dd>Devuelve los milisegundos transcurridos desde el 1 de enero de 1970 hasta la fecha.</dd>
          <span class="ejemplo">
            let transcurrido = new Date(1969,11,31,18,0,0).getTime();<br/>
            <i class="coment">// Nos indicará que han pasado 0 milisegundos desde la fecha pivote.</i><br/>
            <i class="coment">// Tal vez la fecha pivote de 1970/1/1 está en otra zona horaria desfazada 6 horas de la CDMX O.O</i>
          </span>
          <dt>getTimezoneOffset()</dt>
          <dd>Devuelve la diferencia de tu zona horaria al Meridiano de Greenwich que es la referencia de zona horaria para todos los países. Se utiliza para adaptar nuestra zona horaria con el del usuario.</dd>
          <span class="ejemplo">
            const zonaHoraria = new Date().getTimezoneOffset();<br/>
            <i class="coment">// (yo que vivo en CDMX) me devuelve 300 que es la diferencia entre la zona horaria de referencia para todos los países y mi zona horaria.</i><br/>
            <i class="coment">// A mi zona horaria le sumaré esos 300 en los minutos para obtener la zona horaria internacional.</i>
          </span>
        </dl>
      </div>
    </section>
  </main>
  <footer class="contenedor">
    <h3>Referencias:</h3>
    <p>
      <a class="enlace" href="https://developer.mozilla.org/es/docs/Web/API/Window/open" target="blank" rel="noopener noreferrer">Método open()</a><br/>
      <a class="enlace" href="https://ed.team/blog/css-si-tiene-condicionales-y-deberias-estar-usandolas" target="blank" rel="noopener noreferrer">Condicionales de CSS.</a><br/>
      <a class="enlace" href="https://www.youtube.com/watch?v=ZbF5qomB8XM" target="blank" rel="noopener noreferrer">Crear un contador con JavaScript.</a><br/>
      <a class="enlace" href="https://nodejs.org/api/globals.html" target="_blank" rel="noopener noreferrer">Métodos globales.</a><br/>
      <a class="enlace" href="https://www.w3schools.com/jsref/met_win_setinterval.asp" target="_blank" rel="noopener noreferrer">SetInterval.</a><br/>
    </p>
  </footer>
  <script src="../Js/programajsHelp.js"></script>
</body>
</html>